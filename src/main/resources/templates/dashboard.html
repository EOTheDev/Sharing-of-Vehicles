<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" integrity="sha512-iBBXm8fW90+nuLcSKlbmrPcLa0OT92xO1BIsZ+ywDWZCvqsWgccV3gFoRBv0z+8dLJgyAHIhR35VZc2oM/gI1w==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="../css/dashboard.css">
    <title>Prenotazioni attive</title>
</head>
<body class="container-fluid" >
    <nav class="navbar navbar-fixed">
        <img class="col-1 logo" src="../imgs/logo_large.png" alt="logo aziendale">
        <h1 class="col-10 titoloPagina">La tua dashboard</h1>
        <a href="/"><button class="btn delete"><i class="fas fa-home"></i></button></a>
    </nav>
    <header>
        <div class="row">
            <h2 class="col-6-lg" id="headerVis">Visualizza
                <span id="pizzaBoy">
                   <!-- cosa visualizzo? TODO --> <i class="fas fa-arrow-down"></i>
                </span>
            </h2>
            <select class="col-6-lg" id="visualizzo">
                <option value="-">
                    Seleziona
                </option>
                <option value="prenotazioni">
                    Prenotazioni
                </option>
                <option value="veicoli">
                    Veicoli
                </option>
                <option value="clienti">
                    Clienti
                </option>
            </select>
        </div>
    </header>    
    <main>
        <div class="container" id="tableContainer">
            
        </div>
        <table class="table table-striped" id="prenotazioni">
            <h3>Le tue prenotazioni</h3>
            <tr>
                <th>Referente</th>
                <th>Numero prenotazione</th>
                <th>Veicolo</th>
                <th>Risparmio in CO2</th>
                <th>Data</th>
                <th>Tariffa</th>
                <th>Interagisci</th>

            </tr>
            <tr th:each="prenotazione:${prenotazioni}">
                <td><span id="nome" th:text="${prenotazione.utenteId.nome}">Mario</span> <span id="cognome" th:text="${prenotazione.utenteId.cognome}">Rossi</span></td>
                <td><span id="idPrenotazione">X1A14B33</span></td>
                <td><span id="veicolo" th:text="${prenotazione.veicoloId.modello}">Bici</span></td>
                <td><span id="pesoCO2" th:text="${prenotazione.veicoloId.pesoCo2}">0.8</span> g/m3</td>
                <td><span id="giorno" th:text="${prenotazione.dataPrenotazione}">3</span></td>
                <td><span id="tariffa" th:text="${prenotazione.veicoloId.prezzo}">10</span> €</td>
                <td><button class="btn edit"><i class="fas fa-edit"></i></button> </i><button class="btn delete"><i class="fas fa-trash"></i></button></i></td>
            </tr>
        </table>

        <!-- inizio accordion -->
        <div class="accordion col-12" id="formPrenotazione">
            <h2  class="col-12 accordion-header" id="headingTwo">
                <button id="insAcc" class=" col-12 accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFormAcc" aria-expanded="true" aria-controls="collapseTwo"> 
                    <span id="enterPrenotazione">Inserisci nuova prenotazione</span>
                </button>

                  

                    <div id="collapseFormAcc" class="accordion-collapse collapse" aria-labelledby="headingTwo" data-bs-parent="#tableContainer">

                            <div class="accordion-body accBody" id="formBody">
                                <div class="casellaForm">
                                    <h3>id utente:</h3>
                                    <input type="number" class="form-control" id="idUtente" placeholder="id utente" required>
                                </div>
                                <div class="casellaForm">
                                    <h3>data:</h3>
                                    <input type="date" class="form-control" id="datePrenotazione" required>
                                </div>
                                <div class="casellaForm">
                                    <h3>id veicolo:</h3>
                                    <input type="number" class="form-control" id="idVeicolo" placeholder="id veicolo" required>
                                </div>
                                
                                    <button id="btn-ins-pre" class="btn edit"> <h4>Inserisci</h4> </button>
                                <!-- </div> -->
                            </div>
                        </div>
                    </div>

            </h2>
        </div>
        <!-- fine accordion -->

        <table class="table table-striped" id="clienti">
            <h3>I tuoi clienti
            </h3>
            <tr>
                <th>Ruolo</th>
                <th>Nome</th>
                <th>Cognome</th>
                <th>Email</th>
                <th>Età</th>
                <th>Data di iscrizione</th>
                <th>Soldi spesi</th>
                <th>Emissioni totali</th>
                <th>Emissioni in percentuale</th>
                <th>Interagisci</th>
            </tr>

            <tr th:each="utente:${utenti}">
                <td><span th:text="${utente.tipo}" id="ruolo">elDiablo23</span></td>
                <td><span th:text="${utente.cognome}" id="cognome">Rossi</span></td>
                <td><span th:text="${utente.nome}" id="nome">Mario</span></td>
                <td><span th:text="${utente.email}" id="email">mariorossi@email.ru</span></td>
                <td><span th:text="${utente.nascita}" id="dataNascita">19</span></td>
                <td><span th:text="${utente.dataIscrizione}"id="iscrizione">16/12/2020</span></td>
                <td><span id="totSpesaUtente">235,05</span> €</td>
                <td><span id="totEmissioni">210</span> g/m3</td>
                <td><span id="emissioniPercentuale">0.9</span> g/m3</td>
                <td><button class="btn edit"><i class="fas fa-edit"></i></button> </i><button class="btn delete"><i class="fas fa-trash"></i></button></i></td>
            </tr>
            
        </table>
        <!-- inizio accordion -->
        <div class="accordion col-12" id="formCliente">
            <h2  class="col-12 accordion-header" id="headingTwo">
                <button id="insCli" class=" col-12 accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseInsCli" aria-expanded="true" aria-controls="collapseTwo"> 
                    <span id="enterCliente">Inserisci nuovo cliente</span>
                </button>

                  

                    <div id="collapseInsCli" class="accordion-collapse collapse" aria-labelledby="headingTwo" data-bs-parent="#tableContainer">

                            <div class="accordion-body accBody" id="formBody">
                                <div class="casellaForm">
                                    <h3>username:</h3>
                                    <input type="text" class="form-control" id="username" placeholder="username" required>
                                </div>
                                <div class="casellaForm">
                                    <h3>email:</h3>
                                    <input type="email" class="form-control" id="username" placeholder="username" required>
                                </div>
                                <div class="casellaForm">
                                    <h3>nome:</h3>
                                    <input type="text" class="form-control" id="nome" placeholder="nome" required>
                                </div>
                                <div class="casellaForm">
                                    <h3>Cognome:</h3>
                                    <input type="text" class="form-control" id="cognome" placeholder="cognome" required>
                                </div>
                                <div class="casellaForm">
                                    <h3>data nascita:</h3>
                                    <input type="date" class="form-control" id="dateBirth" required>
                                </div>
                                <div class="casellaForm">
                                    <h3>amministratore:</h3>
                                    <select id="tipo" required>
                                        <option value="B">-</option>
                                        <option value="A">Sì</option>
                                        <option value="B">No</option>                                       
                                    </select>
                                </div>
                                
                                <button id="btn-ins-cli" class="btn edit"> <h4>Inserisci</h4> </button>
                                <!-- </div> -->
                            </div>
                        </div>
                    </div>

            </h2>
        </div>
        <!-- fine accordion -->



        <table class="table table-striped" id="veicoli">
            <h3>I tuoi veicoli
            </h3>
            <tr>
                <!--<th>id</th>  -->
                <th>Tipo veicolo</th>
                <th>Modello</th>
                <th>Alimentazione</th>
                <th>Descrizione</th>
                <th>Ultima posizione</th>
                <th>Immagine</th>
                <th>Tariffa</th>
                <th>Incasso Totale</th>
                <th>E/R per viaggio</th>
                <th>E/R totali</th>
                <th>Interagisci</th>
            </tr>
            <tr th:each="veicolo:${veicoli}">
                <!-- <td><span th:text="${veicolo.id}" id="idVeicolo">15</span></td> -->
                <td><span th:text="${veicolo.tipologia}" id="tipologia">Bici</span></td>
                <td><span th:text="${veicolo.modello}" id="modello">Bella</span></td>
                <td><span th:text="${veicolo.alimentazione}" id="alimentazione">Human Power</span></td>
                <td><span th:text="${veicolo.descrizione}"id="descrizione">Bici rossa raggiante, il mezzo più sostenibile che ci sia</span></td>
                <td><span th:text="${veicolo.indirizzo}"id="posizione">via del Campo, 19, Torino</span></td>
                <td><img src="img/veicolo.jpg" th:src="@{${veicolo.immagine}}" alt="immagine del veicolo" srcset=""></td>
                <td><span th:text="${veicolo.prezzo}" id="tariffa">10</span> €/g</td>
                <td><span id="incassoVeicolo">2500</span> €</td>
                <td><span id="emissioniPercentuale">1</span> g/m3</td>
                <td><span th:text="${veicolo.utenteId.nome}" id="totEmissioni">25</span> g/m3</td>
                <td><button class="btn edit"><i class="fas fa-edit"></i></button> </i><button class="btn delete"><i class="fas fa-trash"></i></button></i></td>
            </tr>
            
        </table>
               <!-- inizio accordion -->
               <div class="accordion col-12" id="formVeicolo">
                <h2  class="col-12 accordion-header" id="headingTwo">
                    <button id="insVei" class=" col-12 accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseInsVei" aria-expanded="true" aria-controls="collapseTwo"> 
                        <span id="enterVeicolo">Inserisci nuovo veicolo</span>
                    </button>
                </h2>
                      
    
                        <div id="collapseInsVei" class="accordion-collapse collapse" aria-labelledby="headingTwo" data-bs-parent="#tableContainer">
    
                                <div class="accordion-body accBody" id="formBody">
                                    <div class="casellaForm">
                                        <h3>Nome veicolo:</h3>
                                        <input type="text" class="form-control" id="username" placeholder="Modello" required>
                                    </div>
                                    <div class="casellaForm">
                                        <h3>Tipo veicolo:</h3>
                                        <select id="tipoVeicolo" required>
                                            <option value="">-</option>
                                            <option value="Auto">Automobile</option>
                                            <option value="Monopattino">Monopattino</option>      
                                            <option value="Moto">Moto</option>         
                                            <option value="Bici">Bicicletta</option>                                                                       
                                        </select>
                                    </div>
                                    <div class="casellaForm">
                                        <h3>Alimentazione:</h3>
                                        <select id="alimentazione" required>
                                            <option value="">-</option>
                                            <option value="Benzina">Benzina</option>
                                            <option value="Diesel">Diesel</option>      
                                            <option value="Ibrida">Ibrida</option>         
                                            <option value="Elettrica">Elettrica</option>                                      
                                            <option value="Human power">Human power</option>                                      
                                        </select>
                                    </div>
                                    <div class="casellaForm">
                                        <h3>Posizione:</h3>
                                        <input type="text" class="form-control" id="posizione" placeholder="Indirizzo" required>
                                    </div>
                                    <div class="casellaForm">
                                        <h3>Prezzo:</h3>
                                        <input type="text" class="form-control" id="prezzo" placeholder="€uro" required>
                                    </div>
                                    <div class="casellaForm">
                                        <button id="uploadImg" class="btn btn-primary"><i class="far fa-image"></i> carica immagine</button>
                                        <button id="btn-ins-vei" class="btn edit"><i class="far fa-thumbs-up"></i> <h4>Inserisci</h4> </button>
                                    </div>
                                    <!-- else sbagliato <i class="fas fa-times"></i> -->
                                </div>
                            </div>
                        </div>
    
               
            </div>
            <!-- fine accordion -->

    </main>
    <footer></footer>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.js" integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk=" crossorigin="anonymous"></script>
    <script src="../js/dashboard.js"></script>
</body>
</html>